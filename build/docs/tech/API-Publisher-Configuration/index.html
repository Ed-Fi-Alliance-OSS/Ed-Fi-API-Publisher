<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tech/API-Publisher-Configuration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Ed-Fi API Publisher Configuration | Ed-Fi API Publisher</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ed-fi-api-publisher.github.io/Ed-Fi-API-Publisher/img/ed-fi-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ed-fi-api-publisher.github.io/Ed-Fi-API-Publisher/img/ed-fi-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ed-fi-api-publisher.github.io/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ed-Fi API Publisher Configuration | Ed-Fi API Publisher"><meta data-rh="true" name="description" content="The Ed-Fi API Publisher provides a hierarchical organization of configuration information, as documented below."><meta data-rh="true" property="og:description" content="The Ed-Fi API Publisher provides a hierarchical organization of configuration information, as documented below."><link data-rh="true" rel="icon" href="/Ed-Fi-API-Publisher/img/tech-congress-favicon.png"><link data-rh="true" rel="canonical" href="https://ed-fi-api-publisher.github.io/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration"><link data-rh="true" rel="alternate" href="https://ed-fi-api-publisher.github.io/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://ed-fi-api-publisher.github.io/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HFTFG7KSKA-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Ed-Fi API Publisher" href="/Ed-Fi-API-Publisher/opensearch.xml">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&amp;display=swap">
<link rel="stylesheet" href="https://unpkg.com/@antonz/codapi@0.19.7/dist/snippet.css">
<script src="https://unpkg.com/@antonz/codapi@0.19.7/dist/snippet.js" defer="defer"></script><link rel="stylesheet" href="/Ed-Fi-API-Publisher/assets/css/styles.373c8fba.css">
<script src="/Ed-Fi-API-Publisher/assets/js/runtime~main.c8f8b436.js" defer="defer"></script>
<script src="/Ed-Fi-API-Publisher/assets/js/main.8e5daa5c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Ed-Fi-API-Publisher/"><div class="navbar__logo"><img src="/Ed-Fi-API-Publisher/img/ed-fi-logo.webp" alt="Ed-Fi Docs Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Ed-Fi-API-Publisher/img/ed-fi-logo-light.webp" alt="Ed-Fi Docs Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a href="https://ed-fi-alliance-oss.github.io/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Developer Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Ed-Fi-API-Publisher/docs/intro/">API Publisher Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://community.ed-fi.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://academy.ed-fi.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Academy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Ed-Fi-API-Publisher/docs/intro/">index</a><button aria-label="Expand sidebar category &#x27;index&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Ed-Fi-API-Publisher/docs/configuration/">Ed-Fi ODS/API and Data Management Service FAQ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Ed-Fi-API-Publisher/docs/cloud/">index</a><button aria-label="Expand sidebar category &#x27;index&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Ed-Fi-API-Publisher/docs/configurationstore/">index</a><button aria-label="Expand sidebar category &#x27;index&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Ed-Fi-API-Publisher/docs/tech/API-Connection-Management">tech</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ed-Fi-API-Publisher/docs/tech/API-Connection-Management">API Connection Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration">Ed-Fi API Publisher Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ed-Fi-API-Publisher/docs/tech/Considerations-docker-configuration-and-execution">Running in Docker Desktop.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ed-Fi-API-Publisher/docs/tech/Considerations-for-API-Hosts">Considerations for API Hosts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ed-Fi-API-Publisher/docs/tech/Extensibility">Extensibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ed-Fi-API-Publisher/docs/tech/Known-Issues-Details">Known Limitations for Ed-Fi ODS/API 5.1-5.3 (Details)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ed-Fi-API-Publisher/docs/tech/Remediations">Remediations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Ed-Fi-API-Publisher/docs/tech/Use-TextFormatter-Serilog">How to use the TextFormatter class</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Ed-Fi-API-Publisher/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">tech</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Ed-Fi API Publisher Configuration</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Ed-Fi API Publisher Configuration</h1>
<p>The Ed-Fi API Publisher provides a hierarchical organization of configuration information, as documented below.</p>
<p>The first layer of configuration values are provided by the <em>publisherSettings.json</em> file, which should reside in the same folder as the Ed-Fi API Publisher&#x27;s binaries. This file contains the general Options available for altering the runtime behavior.
The Options values can also be supplied (overridden) using environment variables or command-line arguments, as needed.</p>
<p>Command-line arguments take precedence over environment variables, which in turn take precedence over the values defined in the <em>publisherSettings.json</em> configuration file. To use environment variables to provide configuration values, use the &quot;Configuration Path&quot; from the tables below, and add an <code>EdFi:Publisher:</code> prefix to the name of each variable. For example, to specify a named connection for the source API using an environment variable, use an environment variable name of <code>EdFi:Publisher:Connections:Source:Name</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="options">Options<a class="hash-link" aria-label="Direct link to Options" title="Direct link to Options" href="/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration#options">​</a></h2>
<p>Defines general behavior of the Ed-Fi API Publisher.</p>
<table><thead><tr><th>Configuration Path / Command-Line Argument</th><th>Description</th></tr></thead><tbody><tr><td>Options<!-- -->:BearerTokenRefreshMinutes<br><code>--bearerTokenRefreshMinutes</code></td><td>Indicates how frequently the Ed-Fi API Publisher will obtain a new bearer token from the source and target API endpoints.<br>(<em>Default value: 28</em>)</td></tr><tr><td>Options<!-- -->:RetryStartingDelayMilliseconds<br><code>--retryStartingDelayMilliseconds</code></td><td>Indicates the initial delay in milliseconds used when performing an exponential &quot;back off&quot; delay for retries (doubling the delay between retries after each attempt).<br>(<em>Default value: 100</em>)</td></tr><tr><td>Options<!-- -->:MaxRetryAttempts<br><code>--maxRetryAttempts</code></td><td>Indicates the number of times the Ed-Fi API Publisher will attempt to <em>resend</em> a request against the source or target APIs before determining that the failure is permanent.<br>(<em>Default value: 10</em>)</td></tr><tr><td>Options<!-- -->:MaxDegreeOfParallelismForResourceProcessing<br><code>--maxDegreeOfParallelismForResourceProcessing</code></td><td>Indicates the total number of resources that can be processed simultaneously.<br>(<em>Default value: 10</em>)</td></tr><tr><td>Options<!-- -->:MaxDegreeOfParallelismForPostResourceItem<br><code>--maxDegreeOfParallelismForPostResourceItem</code></td><td>Indicates the total number of threads that could be simultaneously issuing POST requests against the target API for each resource being processed.<br>(<em>Default value: 20</em>)</td></tr><tr><td>Options<!-- -->:MaxDegreeOfParallelismForStreamResourcePages<br><code>--maxDegreeOfParallelismForStreamResourcePages</code></td><td>Indicates the total number of threads that could be simultaneously issuing paged GET requests against the source API for each resource being processed.<br>(<em>Default value: 5</em>)</td></tr><tr><td>Options<!-- -->:StreamingPagesWaitDurationSeconds<br><code>--streamingPagesWaitDurationSeconds</code></td><td>Indicates the number of seconds to wait for the streaming of any of the currently streaming resources to complete before providing an update on progress using the logger.<br>(<em>Default value: 10</em>)</td></tr><tr><td>Options<!-- -->:StreamingPageSize<br><code>--streamingPageSize</code></td><td>Indicates the number of items to include in each page when streaming resources from the source API.<br>(<em>Default value: 75</em>)</td></tr><tr><td>Options<!-- -->:IncludeDescriptors<br><code>--includeDescriptors</code></td><td>Indicates whether or not to attempt to publish descriptors.<br>(<em>Default value: false</em>)</td></tr><tr><td>Options<!-- -->:ErrorPublishingBatchSize<br><code>--errorPublishingBatchSize</code></td><td>Indicates the number of items to batch in each call to the error writer. This could be used to optimize the size of a batch write depending on the operating environment (e.g. Amazon DynamoDB allows for 25 items to be written in a BatchWriteItem operation).<br>(<em>Default value: 25</em>)</td></tr><tr><td>Options<!-- -->:RemediationsScriptFile<br><code>--remediationsScriptFile</code></td><td>Indicates the file system path to a JavaScript file containing <a href="/Ed-Fi-API-Publisher/docs/tech/Remediations">remediations</a> for failed POST requests against the target API.</td></tr><tr><td>Options<!-- -->:UseChangeVersionPaging<br><code>--useChangeVersionPaging</code></td><td>Indicates whether or not to use change version paging.<br>(<em>Default value: false</em>)</td></tr><tr><td>Options<!-- -->:ChangeVersionPagingWindowSize<br><code>--changeVersionPagingWindowSize</code></td><td>Indicates the change version paging window size.<br>(<em>Default value: 25000</em>)</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-connections">API Connections<a class="hash-link" aria-label="Direct link to API Connections" title="Direct link to API Connections" href="/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration#api-connections">​</a></h2>
<p>Metadata for source and targets API connections can be supplied to the publisher using values stored in a persistent configuration or through environment variables and/or command-line arguments, as documented below. It is <strong>strongly recommended</strong> that you use named connections with persistent configuration for repeated publishing operations (e.g. <code>--sourceName=abcd --targetName=wxyz</code>). You should not mix named connections with overrides supplied through environment variables or command-line arguments.</p>
<blockquote>
<p>NOTE: If the Ed-Fi API Publisher is executed using explicit connection information (rather than a pre-configured <em>named</em> connection), the LastChangeVersionProcessed value cannot be updated automatically upon successful publishing (as there is no API connection name associated with the information). It will be the responsibility of the caller to update the value appropriately after extracting the new change version from the log output (or through some other enterprising manner). As such, for implementing a process that is intended to only publish <em>changes</em> from a source to a target, it is impractical to use an approach where the API connection details are provided explicitly at execution time.</p>
</blockquote>
<p>To select or supply source and target connection information, the following configuration values apply:</p>
<table><thead><tr><th>Configuration Path</th><th>Description</th></tr></thead><tbody><tr><td>Connections:Source<!-- -->:Name<br><code>--sourceName</code></td><td>The name of the preconfigured connection for the source Ed-Fi ODS API.</td></tr><tr><td>Connections:Source<!-- -->:Url<br><code>--sourceUrl</code></td><td>The URL of the source Ed-Fi ODS API. <em>Only required if named connections are not in use.</em></td></tr><tr><td>Connections:Source<!-- -->:Key<br><code>--sourceKey</code></td><td>The API key for authenticating with the source Ed-Fi ODS API. <em>Only required if named connections are not in use.</em></td></tr><tr><td>Connections:Source<!-- -->:Secret<br><code>--sourceSecret</code></td><td>The API secret for authenticating with the source Ed-Fi ODS API. <em>Only required if named connections are not in use.</em></td></tr><tr><td>Connections:Source<!-- -->:Scope<br><code>--sourceScope</code></td><td>(<em>Optional</em>) The EducationOrganizationId scope requested for the resulting access token. The value must be an EducationOrganizationId that is explicitly associated with the API client by the source Ed-Fi ODS API.<br><br>Intended for use to allow a single API connection configuration to be used to read changes from the controlling organization&#x27;s Ed-Fi ODS API, but with the operations of the Ed-Fi API Publisher authorized for a particular Education Organization.</td></tr><tr><td>Connections:Source<!-- -->:SchoolYear<br><code>--sourceSchoolYear</code></td><td>(<em>Optional</em>) The SchoolYear to use with the source connection (corresponding to a year-specific ODS API deployment).</td></tr><tr><td>Connections:Source<!-- -->:Include<br><code>--include</code></td><td>(<em>Optional</em>) For <em>source</em> API connections, the resources to publish to the target with their dependencies. The value is defined using a CSV format (comma-separated values), and should contain the partial paths to the resources (e.g. <em>/ed-fi/students</em>,<em>/custom/busRoutes</em>). For convenience when working with Ed-Fi standard resources, only the name is required (e.g. <em>students,studentSchoolAssociations</em>). The Ed-Fi API Publisher will also evaluate and automatically include all dependencies of the requested resources (using the dependency metadata exposed by the target API). This will ensure (barring misconfigured authorization metadata or data policies) that data can be successfully published to the target API.</td></tr><tr><td>Connections:Source<!-- -->:IncludeOnly<br><code>--includeOnly</code></td><td>(<em>Optional</em>) For <em>source</em> API connections, the resources to publish to the target without their dependencies. The value is defined using the same format as with <code>--include</code> (see above). <br><br> NOTE: Use caution when publishing without automatically including all dependencies.</td></tr><tr><td>Connections:Source<!-- -->:Exclude<br><code>--exclude</code></td><td>(<em>Optional</em>) For <em>source</em> API connections, the resources (and their dependents) to NOT publish to the target. The value is defined using the same format as with <code>--include</code> (see above). The Ed-Fi API Publisher will also evaluate and automatically exclude all dependent resources of the excluded resources (using the dependency metadata exposed by the target API). This will ensure (barring misconfigured authorization metadata or data policies) that data can be successfully published to the target API.</td></tr><tr><td>Connections:Source<!-- -->:ExcludeOnly<br><code>--excludeOnly</code></td><td>(<em>Optional</em>) For <em>source</em> API connections, the specific resources to skip publishing to the target (dependent resources will still be published). The value is defined using the same format as with <code>--include</code> (see above).<br><br> NOTE: Use caution when publishing without automatically including all dependencies.</td></tr><tr><td>Connections:Source<!-- -->:IgnoreIsolation<br><code>--ignoreIsolation</code></td><td>(<em>Optional</em>) A boolean value (<code>true</code>/<code>false</code>) indicating whether the source Ed-Fi ODS API data should be published without using snapshot isolation. This argument must also be provided and set to <code>true</code> if the source API does not support an isolated context through the use of the snapshots resource (i.e. before Ed-Fi ODS v5.2). (NOTE: This is not a flag -- the value <code>true</code> or <code>false</code> must be provided (i.e. <code>--ignoreIsolation=true</code>).)</td></tr><tr><td>Connections:Source<!-- -->:ProfileName<br><code>--sourceProfileName</code></td><td>(<em>Optional</em>) For <em>source</em> API connections, the name of the API Profile to read and write data from the API. You should use similar profiles between target and source to avoid data loss.</td></tr><tr><td>Connections:Source<!-- -->:LastChangeVersionProcessed<br><code>--lastChangeVersionProcessed</code></td><td>(<em>Optional</em>) Indicates the last change version successfully published from the <em>source</em> API, and thus the change version <em>after</em> which the current publishing operation should start. <em>This value explicitly overrides any change version value obtained from a named connection.</em></td></tr><tr><td>Connections:Target<!-- -->:Name<br><code>--targetName</code></td><td>The name of the pre-configured connection for the target Ed-Fi ODS API.</td></tr><tr><td>Connections:Target<!-- -->:Url<br><code>--targetUrl</code></td><td>The URL of the target Ed-Fi ODS API. <em>Only required if named connections are not in use.</em></td></tr><tr><td>Connections:Target<!-- -->:Key<br><code>--targetKey</code></td><td>The API key for authenticating with the target Ed-Fi ODS API. <em>Only required if named connections are not in use.</em></td></tr><tr><td>Connections:Target<!-- -->:Secret<br><code>--targetSecret</code></td><td>The API secret for authenticating with the target Ed-Fi ODS API. <em>Only required if named connections are not in use.</em></td></tr><tr><td>Connections:Target<!-- -->:Scope<br><code>--targetScope</code></td><td>(<em>Optional</em>) The EducationOrganizationId scope requested for the resulting access token. The value must be an EducationOrganizationId that is explicitly associated with the API client by the target Ed-Fi ODS API.<br><br>Intended for use to allow a single API connection configuration to be used to publish changes to the controlling organization&#x27;s Ed-Fi ODS API, but with the operations of the Ed-Fi API Publisher authorized for a particular Education Organization.</td></tr><tr><td>Connections:Target<!-- -->:SchoolYear<br><code>--targetSchoolYear</code></td><td>(<em>Optional</em>) The SchoolYear to use with the target connection (corresponding to a year-specific ODS API deployment).</td></tr><tr><td>Connections:Target<!-- -->:ProfileName<br><code>--targetProfileName</code></td><td>(<em>Optional</em>) For <em>target</em> API connections, the name of the API Profile to read and write data from the API. You should use similar profiles between target and source to avoid data loss.</td></tr><tr><td>Connections:Target<!-- -->:TreatForbiddenPostAsWarning<br><code>--treatForbiddenPostAsWarning</code></td><td>(<em>Optional</em>) A boolean value (true/false) indicating whether <code>403 Forbidden</code> responses from <code>POST</code> requests against the connection (as a target) should be treated as a warning, rather than a failure.<br><br>NOTE: This option can be used in scenarios where the target API may not grant the Ed-Fi API Publisher full CRUD permissions to all the dependencies of the specified resources to be written. In such a scenario, the dependent data must already exist in the target ODS or the resulting <code>409 Conflict</code> responses will cause publishing failure.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="considerations-in-relation-to-key-changes-and-deletes">Considerations in relation to key changes and deletes<a class="hash-link" aria-label="Direct link to Considerations in relation to key changes and deletes" title="Direct link to Considerations in relation to key changes and deletes" href="/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration#considerations-in-relation-to-key-changes-and-deletes">​</a></h2>
<p>Ed-Fi API Publisher will only process key changes and deletions if  specific Change Window is defined. To do so use the
<code>--lastChangeVersionProcessed</code> value and set the <code>--useChangeVersionPaging</code> flag to true.
Another option, if you want to keep the <code>--useChangeVersionPaging</code> false is defining a name for the source and target, using the
<code>--sourceName</code> and <code>--targetName</code> values. More information about all these values <a href="/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration#api-connections">below</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="authorization-failure-handling">Authorization Failure Handling<a class="hash-link" aria-label="Direct link to Authorization Failure Handling" title="Direct link to Authorization Failure Handling" href="/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration#authorization-failure-handling">​</a></h2>
<p>Defines metadata (as an array of JSON objects) about which resources could experience <code>403 Forbidden</code> responses caused by data dependencies needed for successful authorization, and which other resources should be processed before retrying the original request. For example, while an API client may be able to create a Student, they won&#x27;t be able to <em>update</em> the Student until that Student is enrolled in a School through the StudentSchoolAssociation. By defining the authorization-related dependency of the <em>update</em> operation on the StudentSchoolAssociation, the Ed-Fi API Publisher can know to retry the failed POST request after the association has been established.</p>
<p>NOTE: This part of the configuration can only be defined in the <em>publisherSettings.json</em> file.</p>
<table><thead><tr><th>JSON Path</th><th>Description</th></tr></thead><tbody><tr><td>/authorizationFailureHandling[*]</td><td>Defines metadata for a single resource which could experience 403 Forbidden responses.</td></tr><tr><td>/authorizationFailureHandling[*]/path</td><td>The partial path for the resource (e.g. <em>/ed-fi/students</em>) for which additional 403 Forbidden processing should be performed.</td></tr><tr><td>/authorizationFailureHandling[*]/updatePrerequisitePaths</td><td>An array of partial paths for the resource(s) (e.g. <em>/ed-fi/studentSchoolAssociations</em>) that should be processed before attempting to retry the original request which resulted in an authorization failure.</td></tr></tbody></table>
<p>The default configuration, which will probably suffice for all current Ed-Fi ODS API deployments, is as follows:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;options&quot;:   </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;authorizationFailureHandling&quot;: [  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;path&quot;: &quot;/ed-fi/students&quot;,  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;updatePrerequisitePaths&quot;: [&quot;/ed-fi/studentSchoolAssociations&quot;]  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;path&quot;: &quot;/ed-fi/staffs&quot;,  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;updatePrerequisitePaths&quot;: [  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;/ed-fi/staffEducationOrganizationEmploymentAssociations&quot;,  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;/ed-fi/staffEducationOrganizationAssignmentAssociations&quot;  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ]  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;path&quot;: &quot;/ed-fi/parents&quot;,  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;updatePrerequisitePaths&quot;: [&quot;/ed-fi/studentParentAssociations&quot;]  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/ed-fi-alliance-oss/Ed-Fi-API-Publisher/tree/gh-pages/pages/docs/docs/tech/API-Publisher-Configuration.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Ed-Fi-API-Publisher/docs/tech/API-Connection-Management"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">API Connection Management</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Ed-Fi-API-Publisher/docs/tech/Considerations-docker-configuration-and-execution"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Running in Docker Desktop.</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration#options">Options</a></li><li><a class="table-of-contents__link toc-highlight" href="/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration#api-connections">API Connections</a></li><li><a class="table-of-contents__link toc-highlight" href="/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration#considerations-in-relation-to-key-changes-and-deletes">Considerations in relation to key changes and deletes</a></li><li><a class="table-of-contents__link toc-highlight" href="/Ed-Fi-API-Publisher/docs/tech/API-Publisher-Configuration#authorization-failure-handling">Authorization Failure Handling</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tech</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ed-fi-alliance-oss.github.io/docs/intro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorial</a></li><li class="footer__item"><a href="https://ed-fi-alliance-oss.github.io/docs/data-exchange" target="_blank" rel="noopener noreferrer" class="footer__link-item">Data Exchange Standards</a></li><li class="footer__item"><a href="https://ed-fi-alliance-oss.github.io/docs/technology-suite" target="_blank" rel="noopener noreferrer" class="footer__link-item">Technology Suite</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://community.ed-fi.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Community Hub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://techdocs.ed-fi.org" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Tech Docs (legacy)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://academy.ed-fi.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Academy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://exchange.ed-fi.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Exchange<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ed-fi.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ed-Fi Alliance</a></li><li class="footer__item"><a href="https://www.ed-fi.org/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ed-Fi News</a></li><li class="footer__item"><a href="https://www.ed-fi.org/events/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ed-Fi Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Ed-Fi Alliance.</div></div></div></footer></div>
</body>
</html>